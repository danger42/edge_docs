{% extends "private-cloud/v4.19.01/_base.html" %}
{% block title %}External authentication configuration property reference{% endblock %}
{% block body %}

  <p>The following table provides a comparison view of <code>management-server.properties</code>
  attributes required for direct and indirect binding for external authentication.</p>

  <p>In the following table, values are provided in between " ". When editing the
  management-server.properties file, include the value between the quotes (" ") but do not include
  the actual quotes.</p>

  <table>
    <thead>
      <tr>
        <th>Property</th>
        <th>DIRECT bind</th>
        <th>INDIRECT bind</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.implementation.class=com.apigee.rbac.impl.LdapAuthenticatorImpl</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td colspan="2">
          <p>This property is always required to enable the external authorization feature. Do not
          change it.</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.bind.direct.type=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td>
          <p>Set to "true".</p>
        </td>
        <td>
          <p>Set to "false".</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.direct.bind.user.directDN=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td>
          <p>If the username is an email address, set to "${userDN}".</p>
          <p>If the username is an ID, set to
          "CN=${userDN},CN=Users,DC=apigee,DC=com", replacing the CN=Users,
          DC=apigee,DC=com with appropriate values for your external LDAP.</p>
        </td>
        <td>
          <p>Not required, comment out.</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.indirect.bind.server.admin.dn=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td>
          <p>Not required, comment out.</p>
        </td>
        <td>
          <p>Set to the username/email address of a user with search privileges on the external
          LDAP.</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.indirect.bind.server.admin.password=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td>
          <p>Not required, comment out.</p>
        </td>
        <td>
          <p>Set to the password for the above user.</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.indirect.bind.server.admin.password.encrypted=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td>
          <p>Not required, comment out.</p>
        </td>
        <td>
          <p>Set to "false" if using a plain-text password (NOT RECOMMENDED)</p>
          <p>Set to "true" if using an encrypted password (RECOMMENDED) as
          described in <a href=
          "indirect-binding-only-encrypting-external-ldap-user-password">Indirect binding
          only: Encrypting the external LDAP user's password</a>.</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.server.url=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td colspan="2">
          <p>Set to "ldap://localhost:389", replacing "localhost" with the IP or
          domain for your external LDAP instance.</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.server.version=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td colspan="2">
          <p>Set to your external LDAP server version, e.g. "3".</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.server.conn.timeout=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td colspan="2">
          <p>Set to a timeout (number in milliseconds) that is appropriate for your external LDAP.</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.user.store.baseDN=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td colspan="2">
          <p>Set to the baseDN value to match your external LDAP service. This value will be
          provided by your external LDAP administrator. E.g. in Apigee we might use
          "DC=apigee,DC=com"</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.user.store.search.query=(&amp;(${userAttribute}=${userId}))</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td colspan="2">
          <p>Do not change this search string. It is used internally.</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.user.store.user.attribute=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td colspan="2">
          <p>This identifies the external LDAP property you want to bind against. Set to whichever
          property contains the username in the format that your users use to log into Apigee Edge.
          For example:</p>
          <p>If users will log in with an email address and that credential is stored in
          <code>userPrincipalName</code>, set above to "userPrincipalName".</p>
          <p>If users will log in with an ID and that is stored in
          <code>sAMAccountName</code>, set above to "sAMAccountName".</p>
        </td>
      </tr>
      <tr>
        <td colspan="3" class="alt"><pre>conf_security_externalized.authentication.user.store.user.email.attribute=</pre></td>
      </tr>
      <tr>
        <td> </td>
        <td colspan="2">
          <p>This is the LDAP attribute where the user email value is stored. This is typically
          "userPrincipalName" but set this to whichever property in your external
          LDAP contains the user's email address that is provisioned into Apigee's
          internal authorization LDAP.</p>
        </td>
      </tr>
    </tbody>
  </table>

{% endblock %}

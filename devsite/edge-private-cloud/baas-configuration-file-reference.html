{% extends "private-cloud/v4.18.01/_base.html" %}
{% block title %}BaaS Configuration File Reference{% endblock %}
{% block body %}

  <p>Shown below is an example silent configuration file for a 10-node API BaaS installation. Edit
  this file as necessary for your configuration. Use the -f option to <code>setup.sh</code> to include this
  file.</p>

  <pre class="prettyprint">
# Specify IP address or DNS name of node.
IP1=192.168.1.1   # ElasticSearch
IP2=192.168.1.2   # ElasticSearch
IP3=192.168.1.3   # ElasticSearch
IP4=192.168.1.4   # API BaaS Stack
IP5=192.168.1.5   # API BaaS Stack
IP6=192.168.1.6   # API BaaS Stack
IP7=192.168.1.7   # API BaaS Portal
IP8=192.168.1.8   # Cassandra (shared with Edge or standalone)
IP9=192.168.1.9   # Cassandra (shared with Edge or standalone)
IP10=192.168.1.10  # Cassandra (shared with Edge or standalone)

# Must resolve to IP address or DNS name of host - not to 127.0.0.1 or localhost.
HOSTIP=$(hostname -i)

# Define the API BaaS administrator account.
AS_ADMIN="superuser"    # User name - default is "superuser".
AS_ADMIN_EMAIL=stackAdmin@email.com
AS_PASSWD=stackAdminPWrod

# Only if you are installing Cassandra.
# Specify Cassandra data center and rack suffix.
# Must use IP addresses for CASS_HOSTS, not DNS names.
# CASS_HOSTS="$IP8:1,1 $IP9:1,1 $IP10:1,1"

# If connecting to existing Cassandra nodes,
# specify Cassandra IPs.
# Must use IP addresses for CASS_HOSTS, not DNS names.
CASS_HOSTS="$IP8 $IP9 $IP10"

# Cassandra uname/pword.
# Even if Cassandra authentication is disabled,
# you must still pass values for these properties.
CASS_USERNAME=cassandra    # Default value
CASS_PASSWORD=cassandra    # Default value

# Specify BaaS Cassandra connection information.
# Specify the data center name.
BAAS_CASS_LOCALDC=dc-1    # Default is dc-1

# For a single data center, specify the same value as BAAS_CASS_LOCALDC.
BAAS_CASS_DC_LIST="dc-1"

# Replication is in the form <var>datacenter_name:number_of_cassandra_nodes</var>
# For example, for dc-1 with three Cassandra nodes, it is dc-1:3.
BAAS_CASS_REPLICATION=dc-1:3

# Defines the initial contact points for members of the BaaS cluster.
# For a single node install, specify the IP address of the node.
BAAS_CLUSTER_SEEDS="dc-1:$IP1"

# ElasticSearch IPs or DNS names, separated by spaces.
ES_HOSTS="$IP1 $IP2 $IP3"

# API BaaS Stack information.
# Default cluster name is "apigee_baas"
BAAS_USERGRID_CLUSTERNAME="apigee_baas"

# URL and port of the load balancer for the API BaaS Stack nodes, 
# or IP/DNS and port 8080 of a single Stack node with no load balancer.
BAAS_USERGRID_URL=http://myloadbalancer:8443

# API BaaS Portal information.
# URL and port number of load balancer, if there is one in front of the Portal,
# or the URL and port of the Portal node.
BAAS_PORTAL_URL="http://$IP7:9000"

# Portal port. Default value is 9000.
BAAS_PORTAL_LISTEN_PORT=9000 

# SMTP information. BaaS requires an SMTP server.
SMTPHOST=smtp.gmail.com
SMTPPORT=465
SMTPUSER=your@email.com
SMTPPASSWORD=yourEmailPassword
SMTPSSL=y
SMTPMAILFROM="My Company &lt;myco@company.com&gt;"
</pre>

  <p>The following table contains additional information about these properties:</p>

  <table>
    <thead>
      <tr>
        <th>Property</th>
        <th>Note</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td><code>CASS_HOSTS</cpde></td>
        <td><p>If you are installing Cassandra, specify the Cassandra node IPs (not DNS names) and
          include the ":dc,ra" modifier that specify the data center and rack of the
          Cassandra node.</p>
          <p>For example '192.168.124.201:1,1 = datacenter 1 and rack/availability zone 1, and
          '192.168.124.204:2,1 = datacenter 2 and rack/availability zone 1.</p>
        </td>
      </tr>
      <tr>
        <td><code>CASS_USERNAME<br/>CASS_PASSWORD</cpde></td>
        <td>
          <p>Cassandra user name and password.</p>
          <p>If Cassandra authentication is disabled, you still have to pass these values. However,
          the values are ignored.</p>
        </td>
      </tr>
      <tr>
        <td><code>BAAS_CASS_LOCALDC</code></td>
        <td>
          <p>The region names must be in the form dc-# where # corresponds to an integer value.</p>
          <p>For example, dc-1, dc-2, etc. If you are connecting to a Cassandra cluster installed
          with Edge, you can ask the Edge system administrator for this value. In an Edge single
          data center installation, the default value is dc-1.</p>
          <p>If you installed Cassandra as part of installing the API BaaS, then during Cassandra
          installation you added the ":dc,ra" modifier to the Cassandra IP addresses.
          The first value "dc" is the data center number. The data center name is the string "dc-"
          with the data center number as a suffix.</p>
        </td>
      </tr>
      <tr>
        <td><code>BAAS_CASS_DC_LIST</code></td>
        <td>Specify the same value as <code>BAAS_CASS_LOCALDC</code>.</td>
      </tr>
      <tr>
        <td><code>BAAS_CASS_REPLICATION</code></td>
        <td>
          <p>The format is <var>datacenter_name:number_of_cassandra_nodes</var>. For example,
          for dc-1 with three Cassandra nodes, it is "dc-1:3".</p>
          <p>For installing a second data center, specify information for both data centers:</p>
          <pre>BAAS_CASS_REPLICATION=dc-1:3,dc-2:3</pre>
        </td>
      </tr>
      <tr>
        <td><code>BAAS_CLUSTER_SEEDS</code></td>
        <td>
          <p>Defines the initial contact points for members of the BaaS cluster. Specify a comma
          separated list of the BaaS Stack seed nodes in the data center, enclosed in double
          quotes, in the form "<code>dc-#:nodeIP</code>", where dc-# is the name
          of the data center as defined by <code>BAAS_CASS_LOCALDC</code>.</p>
          <p>For a single node install, specify the IP address of the node. </p>
          <p>In a production environment with at least three BaaS Stack nodes in the data center,
          specify two Stack nodes as seeds. Do not specify more than two nodes even when you have
          three or more Stack nodes. </p>
          <p>For multiple data centers, specify only the seed nodes in that data center.</p>
        </td>
      </tr>
      <tr>
        <td><code>BAAS_USERGRID_URL</code></td>
        <td>
          <p>In a production environment, this is the URL and port of the load balancer that is in
          front of the API BaaS Stack nodes, in the form:
          <pre>http://<var>stack_load_balancer</var>:<var>port</var></pre>
          <p>For example:</p>
          <pre>http://mystackloadbalancer:8443</pre>
          <p>In a testing or development environment, where you only have a single API BaaS Stack
          node, this can be the URL and port number of an API BaaS Stack node, in the form:</p>
          <pre>http://<var>stack_IP_or_DNS</var>:<var>port</var></pre>
          <p>For example:</p>
          <pre>http://mystackip:8080</pre>
          <p>The port number for the API BaaS Stack server is 8080.</p>
        </td>
      </tr>
      <tr>
        <td><code>BAAS_PORTAL_URL</code></td>
        <td>
          <p>The URL and port number of the load balancer, if there is one in front of the Portal,
          in the form:
          <pre>http://<var>portal_load_balancer</var>:<var>port</var></pre>
          <p>For example:</p>
          <pre>http://myportalloadbalancer:8443</pre>
          <p>If there is no load balancer, specify the URL and port number of the Portal node, in the
          following form:</p>
          <pre>http://<var>portal_IP_or_DNS</var>:<var>port</var></pre>
          <p>For example:</p>
          <pre>http://myportal:9000</pre>
          <p>By default, the port number for the API BaaS Portal is 9000.</p>
        </td>
      </tr>
      <tr>
        <td><code>BAAS_PORTAL_LISTEN_PORT</code></td>
        <td>
          <p>The port number for the API BaaS Portal server is 9000. If this port is not available,
          specify a different port.</p>
          <p>If you are setting <code>BAAS_PORTAL_URL</code> to the URL of the
          Portal node, the port numbers must be the same for both properties.</p>
        </td>
      </tr>
      <tr>
        <td><code>SMTPHOST<br>
          SMTPUSER<br>
          SMTPPASSWORD<br>
          SMTPSSL<br>
          SMTPPORT<br>
          SMTPMAILFROM</code>
        </td>
        <td>
          <p>Configure SMTP so API BaaS can send emails for lost passwords and other
          notifications.</p>
          <p>If SMTP user credentials are not required, omit <code>SMTPUSER</code> and
          <code>SMTPPASSWORD</code>.</p>
        </td>
      </tr>
    </tbody>
  </table>

{% endblock %}

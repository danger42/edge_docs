  {% extends "private-cloud/v4.18.01/_base.html" %} {% block title %}Recurring Edge Services
  Maintenance Tasks{% endblock %} {% block body %}

  <p>In order to ensure optimal day-to-day operation of the Apigee system, certain tasks should be
  performed when the system is originally installed and/or on a periodic basis.</p>

  <h2 id="maintenancetoolset">Maintenance Tool Set</h2>

  <p>The following tools are used to communicate with, or maintain various components of, the
  Apigee system.  The variable $APROOT refers to the directory in which the Apigee system is
  installed.</p>

  <table>
    <thead>
      <tr>
        <th>
          <p><strong>Tool</strong></p>
        </th>

        <th>
          <p><strong>Used For</strong></p>
        </th>

        <th>
          <p><strong>System Location</strong></p>
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          <p><strong>nodetool</strong></p>
        </td>

        <td>
          <p>Apache Cassandra maintenance</p>
        </td>

        <td>
          <p>/opt/apigee/apigee-cassandra/bin</p>
        </td>
      </tr>

      <tr>
        <td>
          <p><strong>cassandra-cli</strong></p>
        </td>

        <td>
          <p>Apache Cassandra command line</p>
        </td>

        <td>
          <p>/opt/apigee/apigee-cassandra/bin</p>
        </td>
      </tr>

      <tr>
        <td>
          <p><strong>zkCli.sh</strong></p>
        </td>

        <td>
          <p>Apache ZooKeeper command line utility</p>
        </td>

        <td>
          <p>/opt/apigee/apigee-zookeeper/bin</p>
        </td>
      </tr>

      <tr>
        <td>
          <p><strong>nc</strong></p>
        </td>

        <td>
          <p>Arbitrary TCP/IP and UDP commands; invocation of ZooKeeper "four-letter commands"</p>
        </td>

        <td>
          <p>/usr/bin/nc or another location dependent on your operating system</p>
        </td>
      </tr>
    </tbody>
  </table>

  <p>In situations where the "<span style="font-family:courier new,courier,monospace;">nc</span>"
  or "<span style="font-family:courier new,courier,monospace;">telnet</span>" commands might be
  considered a security risk, the following Python script can be used:</p>
  <pre class="prettyprint">
import time
import socket
import sys

if len(sys.argv) &lt;&gt; 4:
    print "Usage: %s address port 4-letter-cmd" % sys.argv[0]
else:
    c = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    c.connect((sys.argv[1], int(sys.argv[2])))
    c.send(sys.argv[3])
    time.sleep(0.1)
    print c.recv(512)
</pre>{% endblock %}

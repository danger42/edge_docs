{% extends "private-cloud/v4.18.05/_base.html" %}
{% block title %}Starting, stopping, restarting, and checking the status of Apigee Edge{% endblock %}
{% block body %}

  <h2>Stop/start order</h2>

  <p>The order of stopping and starting the subsystems is important. Start and stop scripts are
  provided that take care of that for you for Edge components running on the same node.</p>

  <h3>Stop order</h3>
  <p>If you install Edge on multiple nodes, then you should stop Edge components on those nodes in
  the following <em>stop order</em>:</p>

  <ol>
    <li>Management Server (<code>edge-management-server</code>)</li>
    <li>Message Processor (<code>edge-message-processor</code>)</li>
    <li>Postgres Server (<code>edge-postgres-server</code>)</li>
    <li>Qpid Server (<code>edge-qpid-server</code>)</li>
    <li>Router (<code>edge-router</code>)</li>
    <li>Edge UI (<code>edge-ui</code>)</li>
    <li>Cassandra (<code>apigee-cassandra</code>)</li>
    <li>OpenLDAP (<code>apigee-openldap</code>)</li>
    <li>PostgreSQL database (<code>apigee-postgresql</code>)</li>
    <li>Qpidd (<code>apigee-qpidd</code>)</li>
    <li>ZooKeeper (<code>apigee-zookeeper</code>)</li>
  </ol>

  <h3>Start order</h3>
  <p>If you install Edge on multiple nodes, then you should start Edge components on those nodes in
  the following <em>start order</em>:</p>

  <ol>
    <li>Cassandra (<code>apigee-cassandra</code>)</li>
    <li>OpenLDAP (<code>apigee-openldap</code>)</li>
    <li>PostgreSQL database (<code>apigee-postgresql</code>)</li>
    <li>Qpidd (<code>apigee-qpidd</code>)</li>
    <li>ZooKeeper (<code>apigee-zookeeper</code>)</li>
    <li>Management Server (<code>edge-management-server</code>)</li>
    <li>Message Processor (<code>edge-message-processor</code>)</li>
    <li>Postgres Server (<code>edge-postgres-server</code>)</li>
    <li>Qpid Server (<code>edge-qpid-server</code>)</li>
    <li>Router (<code>edge-router</code>)</li>
    <li>Edge UI (<code>edge-ui</code>)</li>
  </ol>

  <h2>Start/stop/check all components</h2>

  <p>The following scripts detect the Apigee components configured to run on the system on which
  the script is executed, and will start or stop only those components in the correct order for
  that node.</p>

  <ul>
    <li>To stop all Apigee components:
      <pre class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-all stop</pre>
    </li>
    <li>To start all Apigee components:
      <pre class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-all start</pre>
    </li>
    <li>To restart all Apigee components:
      <pre class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-all restart</pre>
    </li>
    <li>To check which components are running:
    <pre class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-all status</pre></li>
  </ul>

  <h2>Start/stop/restart individual components</h2>

  <p>You can use the <code>apigee-service</code> tool to start/stop/restart or check the status of
  an individual Apigee component on any specific server.</p>

  <pre class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-service <var>component_name</var> [start|stop|restart|status]</var></pre>

  <p>Where <var>component_name</var> identifies the component. Possible values of
  <var>component_name</var> include (in alphabetical order):</p>

  {% dynamic include "/includes/___opdk-component-list" %}

  <p>For example, to start, stop, or restart the Management Server, run the following commands:</p>

  <pre class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-service edge-management-server start
<code class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-service edge-management-server stop</code>
<code class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-service edge-management-server restart</code></pre>

  <p>You can also check the status of an individual Apigee component by using the following
  command:</p>

  <pre class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-service <var>component_name</var> status</pre>

  <p>For example:</p>
  <pre class="devsite-terminal">/opt/apigee/apigee-service/bin/apigee-service edge-management-server status</pre>

{% endblock %}

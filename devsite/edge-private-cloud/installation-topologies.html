  {% extends "private-cloud/v4.18.01/_base.html" %} {% block title %}Installation Topologies{% endblock %} {% block body %}

  <div>
    This section describes the Edge installation topologies, meaning the node configurations
    supported by Edge. 
  </div>

  <h2 id="allinoneinstallation">All-in-one Installation</h2>

  <p>A single host runs all Edge components. Note that this configuration is only to be used for
  getting started with Edge or for initial prototyping. It is not to be used as a deployment or
  production environment.</p>

  <p><img alt="" src="/private-cloud/images/1-host-install.png"></p>

  <h2 id="standaloneinstallation2host">Standalone installation (2-host)</h2>

  <p>In this scenario, a single host runs Gateway standalone servers and associated components
  &#8212; Apigee Management Server, Apache ZooKeeper, Apache Cassandra, OpenLDAP, Edge UI, Apigee
  Router, and Apigee Message Processor. The other host runs Analytics standalone components
  &#8212;Qpid Server and Postgres Server.</p>

  <p><img alt="" src="/private-cloud/images/2-host-install(sa-sax).png"></p>

  <h2 id="5hostclusteredinstallation">5-host clustered installation</h2>

  <p>In this scenario, three hosts run ZooKeeper and Cassandra clusters. One of those three hosts
  also runs the Apigee Management Server, OpenLDAP, and Edge UI. Two of those three hosts also run
  Apigee Router + Message Processor. Two hosts run Apigee Analytics.</p>

  <aside class="note"><b>Note:</b> This scenario combines cluster and Gateway components to reduce
  the number of servers used. To achieve optimal performance, the cluster can also be deployed on
  three different servers. This scenario also introduces a master-standby replication between two
  Postgres nodes if analytics statistics are mission critical.</aside>

  <p><img alt="" src="/private-cloud/images/5host-cluster-Setup.png"></p>

  <h2 id="9hostclusteredinstallation">9-host clustered installation</h2>

  <p>This scenario is similar to five-host clustered installation but has different Analytics
  components setup to achieve performance high availability.</p>

  <aside class="note"><b>Note:</b> This scenario introduces a master-standby replication between
  two Postgres nodes if Analytics statistics are mission critical.</aside>

  <p><img alt="" src="/private-cloud/images/9host-cluster-Setup.png"></p>

  <h2 id="13hostclusteredinstallation">13-host clustered installation</h2>

  <p>This scenario is an enhancement of nine-host clustered installation covering separate data
  zones for data and Apigee servers in one datacenter setup. Here LDAP is installed as an
  independent separate node.</p>

  <aside class="note"><b>Note:</b> This scenario uses master-master OpenLDAP replication and
  master-standby Postgres replication in one datacenter setup.</aside>

  <p><img alt="" src="/private-cloud/images/13host-cluster-Setup.png"></p>

  <h2 id="12hostclusteredinstallation">12-host clustered installation</h2>

  <p>This scenario covers disaster recovery and analytics high availability across two
  datacenters.</p>

  <aside class="note"><b>Note:</b> This scenario uses master-master OpenLDAP replication and
  master-standby Postgres replication (across two datacenters).</aside>

  <p><img alt="" src="/private-cloud/images/12host-install-setup.png"></p>

  <h2 id="7hostand10hostapibaasinstallation">7-host and 10-host API BaaS Installation</h2>

  <p>In this scenario, you install API BaaS on 10 hosts. The Cassandra nodes can be dedicated to
  API BaaS, or can be shared with Edge. This is the recommended configuration for highest
  performance because ElasticSearch requires a high amount of disk I/O and memory.</p>

  <p><img alt="" src="/private-cloud/images/10host-cluster-api-backend.png"></p>

  <p>As an alternative, you can install a 7-host topology where three hosts run the API BaaS Stack
  and ElasticSearch. </p>

  <p><img alt="" src="/private-cloud/images/7host-cluster-api-backend.png"></p>

  <p>In a BaaS installation with multiple data centers, each data center has either 7 or 10
  nodes. </p>

  <h2 id="installingmonetizationservices">Installing Monetization Services</h2>

  <p>Monetization Services runs within any existing Apigee Edge setup. In this scenario, you
  install Monetization Services the Apigee Management Server and Message Processor. To install
  Monetization on Edge where the Edge installation has multiple Postgres nodes, the Postgres nodes
  must be configured in Master/Standby mode. You cannot install Monetization on Edge if you have
  multiple Postgres master nodes.</p>{% endblock %}

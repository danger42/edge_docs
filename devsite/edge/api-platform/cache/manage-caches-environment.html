  {% extends "_base.html" %} {% block title %}Creating and editing an environment cache{% endblock %} {% block body %}

  <p>When you don't want to use the included shared cache, you can create and configure your own
  cache. You can use the cache you create beneath caching policies, rather than using the shared
  cache.</p>

  <p>You can also create a cache by using an Apigee API. For more,
  see <a href="https://apidocs.apigee.com/management/apis/post/organizations/{org_name}/environments/{env_name}/caches" class="external">Create
    a cache in an environment</a>.</p>

  <aside class="key-point"><b>Best practice:</b> For guidance on which type of cache or persistence
  to use in different situations, see
  <a href="/api-platform/cache/persistence-tools.html">Persistence tools in Edge</a>.</aside>

  <p><b>Cache limits</b>: See <a href="/api-platform/reference/limits">Limits</a> for the various
  limits that apply to caches, such as name and value size, total number of caches, the number
  of items in a cache, and expiration.</p>

  <h2 id="define_resource">Defining a cache resource</h2>

  <p>You can create multiple cache resources in each environment. When you're configuring a caching
  policy, you specify whether the policy should use the included shared cache or a cache you
  created.</p>

  <p>For data segregation, the scope of a cache is limited to the environment in which you created
  the cache. (For example, API proxies running in a 'test' environment cannot access data in a
  cache running in 'prod'.) Once you create a cache, policies can populate it with any serializable
  data. For usage, see <a href="/api-platform/cache/optimize-performance-using-cache.html">Example: General purpose caching</a>.</p>

  <p>See also: <a href="/api-platform/reference/policies/response-cache-policy.html">Response Cache policy</a>.</p>

  <h2 id="creatingandeditingcaches">Creating and editing caches</h2>

  <p>These steps describe how to create or edit a cache using the management console.</p>



  <ol>
    <li>In the management UI, click the <b>APIs</b> menu, then click <b>Environment
    Configuration</b>.</li>

    <li>Select the environment for which you want to configure caches, such as
    <strong>test</strong> or <strong>prod</strong>.</li>

    <li>Go to the <strong>Caches</strong> tab.</li>

    <li>Click <strong>Edit</strong>. </li>

    <li>Under <b>Caches</b>, at the right side, click the <b>+Cache</b> button to add a new cache.

      <p><img alt="" src="/api-platform/images/edge-cache-edit.png"></p>
    </li>

    <li>Enter property values for the new cache. The following table describes the settings.

      <table>
        <thead>
          <tr>
            <th>Property Name</th>

            <th width="75">Default Value</th>

            <th>Description</th>

            <th>Notes</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>Name</td>

            <td>N/A</td>

            <td>The name of the cache. Must be unique in the environment. Reference this cache from
            policies that interact with the cache resource.</td>

            <td> </td>
          </tr>

          <tr>
            <td>Description</td>

            <td>N/A</td>

            <td>An optional description of the cache resource.</td>

            <td> </td>
          </tr>

          <tr>
            <td>Expiration Type</td>

            <td>Timeout in Seconds</td>

            <td>Sets how cache entries will be expired. Entry time to live can be a specified
            number of seconds after creation, a specified time of day each day, or a specified
            date.</td>

            <td rowspan="2"><a href="/api-platform/reference/policies/populate-cache-policy.html">Populate Cache policy</a>
            and <a href="/api-platform/reference/policies/response-cache-policy.html">Response Cache policy</a>
              both override these expiration settings with their own for cache entries they create.</td>
          </tr>

          <tr>
            <td>Expiration</td>

            <td>
              <b>For timeout in seconds</b>: 300 (seconds)

              <p><b>For time of day</b>: 12:00:00</p>

              <p><b>For date</b>: current date (dd-MM-yyyy)</p>
            </td>

            <td>
              The configuration setting (either integer or dateTime) for the selection you made in
              the Expiration dropdown.

              <p>Enter time of day in the format HH:mm:ss, where HH represents the hour on a
              24-hour clock. For example, 14:30:00 for 2:30 in the afternoon.</p>

              <p>For the time of day, the default locale and time zone will vary depending on where
              the code is running (which isn't knowable at configuration time).</p>
            </td>
          </tr>
        </tbody>
      </table>
    </li>

    <li>Click <b>Save</b>.</li>
  </ol>

  <h2 id="populatingcache">Populating cache</h2>

  <p>You can populate cache during API proxy runtime in the following ways.</p>

  <ul>
    <li><a href="/api-platform/nodejs/access-cache-nodejs.html" target="_blank">Node.js</a></li>

    <li><a href="/api-platform/reference/policies/populate-cache-policy.html">Populate Cache policy</a></li>

    <li><a href="/api-platform/reference/policies/response-cache-policy.html">Response Cache policy</a></li>
  </ul>

  <aside class="note"><b>Note:</b> Cache keys are limited to a size of 2 KB.</aside>

  {% endblock %}

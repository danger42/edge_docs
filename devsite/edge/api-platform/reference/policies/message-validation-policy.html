{% extends "_base.html" %}
{% block title %}SOAPMessageValidation policy{% endblock %}
{% block body %}

<img src="/api-platform/images/icon_policy_mediation.jpg">

  <p>The SOAPMessageValidation policy does the following:</p>

  <ul>
    <li>Validates any XML message against their XSD schemas</li>
    <li>Validates SOAP messages against a WSDL definition</li>
    <li>Determines well-formedness of JSON and XML messages</li>
  </ul>

  <p>While the name of this policy in the UI is "SOAP Message Validation", the policy validates more
  than just SOAP messages. This section refers to the policy as the "Message Validation policy".</p>

<section class="expandable">
  <h3 class="showalways">Benefits</h3>
  <p>Message validation provides the following benefits:</p>
  <ul>
    <li><strong>Immediately informs</strong> app developers that are consuming your API if their
      requests are non-conformant or incomplete.</li>
    <li><strong>Pinpoints issues</strong> in requests, such as XML tags that are not properly
      closed.</li>
    <li><strong>Protects backend services</strong> by blocking XML or SOAP messages with structures
      that might cause unpredictable behavior.</li>
    <li><strong>Reduces time</strong> spent troubleshooting, searching forums, or consulting with
      tech support.</li>
    <li><strong>Encourages developers</strong> to familiarize themselves with the XML schema WSDL
      definition to eliminate validation errors, making well-understood XML schemas a key component
      of your API documentation.</li>
  </ul>
</section>

  <h2 id="messagevalidation">{{messagevalidation}} element</h2>

  <p>Defines the Message Validation policy.</p>

  {% setvar dvt_default_value %}"sampleObject"{% endsetvar %}
  {% setvar dvt_required %}Optional{% endsetvar %}
  {% setvar dvt_type %}String{% endsetvar %}
  {% setvar dvt_parent %}{{mv_link}}{% endsetvar %}
  {% setvar dvt_children %}None{% endsetvar %}
  {% include "includes/_default_value_table.html" %}

  <p>The {{mv_element}} element uses the following syntax:</p>

  <div class="ds-selector-tabs">
    <section>
      <h3>Syntax</h3>
      <pre class="prettyprint">...
  &lt;Element namespace="<var>element_namespace</var>"&gt;<var><var>element_to_validate</var></var>&lt;/Element&gt;
...</pre>
    </section>
    <section>
      <h3>Example 1</h3>
        <p>The following example defines a single element to be validated:</p>
  {% setvar dvt_default_value %}"wsdl://<var>display_name</var>.wsdl"{% endsetvar %}
  {% setvar dvt_required %}Optional{% endsetvar %}
  {% setvar dvt_type %}String{% endsetvar %}
  {% setvar dvt_parent %}{{mv_link}}{% endsetvar %}
  {% setvar dvt_children %}None{% endsetvar %}
  {% include "includes/_default_value_table.html" %}

  <p>The {{mv_resourceurl}} element uses the following syntax:</p>

  <div class="ds-selector-tabs">
    <section>
      <h3>Syntax</h3>
      <pre class="prettyprint">...
  &lt;ResourceURL&gt;[wsdl|xsd]://<var>validation_WSDL_or_XSD</var>&lt;/ResourceURL&gt;
...</pre>
    </section>
    <section>
      <h3>Examples</h3>
      <p>For an XML file:</p>
  {% setvar dvt_default_value %}n/a{% endsetvar %}
  {% setvar dvt_required %}Optional{% endsetvar %}
  {% setvar dvt_type %}n/a{% endsetvar %}
  {% setvar dvt_parent %}{{mv_link}}{% endsetvar %}
  {% setvar dvt_children %}None{% endsetvar %}
  {% include "includes/_default_value_table.html" %}

  <p>The {{mv_soapmessage}} element uses the following syntax:</p>

  <div class="ds-selector-tabs">
    <section>
      <h3>Syntax</h3>
      <pre class="prettyprint">...
  &lt;SOAPMessage version="[ 1.1 | 1.2 | 1.1/1.2 ]"/&gt;
...</pre>
    </section>
    <section>
      <h3>Example</h3>
  {% setvar dvt_default_value %}"request"{% endsetvar %}
  {% setvar dvt_required %}Optional{% endsetvar %}
  {% setvar dvt_type %}String{% endsetvar %}
  {% setvar dvt_parent %}{{mv_link}}{% endsetvar %}
  {% setvar dvt_children %}None{% endsetvar %}
  {% include "includes/_default_value_table.html" %}

  <p>The {{mv_source}} element uses the following syntax:</p>

  <div class="ds-selector-tabs">
    <section>
      <h3>Syntax</h3>
      <pre class="prettyprint">...
  &lt;Source&gt;<var>message_to_validate</var>&lt;/Source&gt;
...</pre>
    </section>
    <section>
      <h3>Example</h3>

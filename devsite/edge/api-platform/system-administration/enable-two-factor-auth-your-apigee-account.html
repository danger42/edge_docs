  {% extends "_base.html" %} {% block title %}Enable two-factor auth for your Apigee account{% endblock %} {% block body %}

  <p>Two-factor authentication is an easy-to-use best practice that adds an additional layer of
  protection for your Apigee account. To log in to your account when two-factor auth is enabled,
  you must supply your username and password and a 6-digit number. The number is randomly
  generated, changes every 30 seconds and can only be used only one time to log in.</p>

  <p>This topic explains how to set up and use two-factor auth.</p>

  <aside class="warning"><b>Warning:</b> <strong>Do not enable two-factor authentication on Apigee
  Edge</strong> if you publish your APIs using a <a href="/api-platform/publish/portal/developer-services-portal#drupal">Drupal-based developer portal</a>.
    Otherwise, the developer portal will not be able to <a href=
  "/api-platform/publish/drupal/communicating-between-developer-services-portal-and-edge.html">communicate
  with Edge</a>.</aside>

  <p> To learn more about two-factor auth, check out the article
  <a href=
  "https://community.apigee.com/articles/26487/two-factor-authentication-using-one-time-passwords.html">
  Two-factor Authentication Using One-time Passwords</a> on the Apigee Community.</p>

  <h2 id="settinguptwofactorauth">Setting up two-factor auth</h2>

<p>You can enable two-factor auth for an entire organization or per individual.</p>

<h3>Enable two-factor auth for an entire organizataion</h3>
<p>To enable two-factor auth for all users in an organization:</p>
  <ul>
    <li>Enable SAML as described at <a href="enabling-saml-authentication-edge">Enable SAML</a>.</li>
    <li>After SAML is enabled, you can manage all authentication policies, such as password length,
      password strength, and two-factor auth, through your SAML identity provider.</li>
 </ul>

<h3>Enable two-factor auth individually</h3>

  <p>You need to enable two-factor auth in your Apigee account settings.</p>

  <ol>
    <li>Log in to your Apigee account in the management UI at <a href=
    "https://enterprise.apigee.com">https://apigee.com/edge</a>.</li>

    <li><p>Install <a href=
    "https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&amp;hl=en">
      Google Authenticator</a> on your iPhone or Android phone.</p>

      <p>This app generates the 6-digit code you need for two-factor
      authentication. In the following steps, you will link this app to your Apigee login
      account.</p>
    </li>

    <li>Click your username to open the account menu and click <strong>Edit Account</strong>.<br>
    <br>
    <img class="screenshot" width="25%" alt="" src="/api-platform/images/two-factor-auth-2.png"><br>
     </li>

    <li>Click <strong>Setup Two-factor authentication</strong>.</li>

    <li>Follow the instructions in the setup screen. You'll need access to the Google
      Authenticator app to complete the steps.</li>

    <li>When you see the message Device added successfully, you're done!<br>
    <br>
    <img class="screenshot" width="40%" alt="" src="/api-platform/images/two-factor-auth-1.png"></li>
  </ol>

  <h2 id="logginginwithtwofactorauth">Logging in with two-factor auth</h2>

  <p>Now that your phone is successfully linked through the Google Authenticator app, you can log
  in the way you normally do, but you'll need to enter the 6-digit number generated by the app on
  your phone.</p>

  <aside class="note"><b>Note:</b> If you don't have the Google Authenticator app handy, you can
  click I don't have a code and a code will be sent to your registered email account.</aside>

  <ol>
    <li>Go to the Apigee login page.</li>

    <li>Enter your username and password.</li>

    <li>Open the Google Authenticator app on your phone.</li>

    <li>Enter the 6-digit number from the app in the login page:</li>
  </ol>{% endblock %}

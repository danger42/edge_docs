  {% extends "_base.html" %} {% block title %}Traditional Node.js deployment on Edge{% endblock %} {% block body %}

<aside class="warning"><p><strong>Deprecated feature:</strong> The traditional Node.js support on
  Apigee Edge Cloud, as described in this topic, is deprecated. For details on the deprecation, see the <a href="/release/deprecated-features">Deprecations
  and retirements page</a>. This feature will be retired in the future.</p>

  <p>If you are on Apigee Cloud, Apigee recommends that
  you use <a href="/api-platform/hosted-targets/hosted-targets-overview">Hosted Targets</a> for new
  Node.js development and deployment to Apigee Edge. For information on migrating existing proxies that use Apigee's traditional
    Node.js deployment approach, see <a href="/api-platform/hosted-targets/hosted-targets-tutorials#migrating-an-existing-nodejs-proxy-to-a-hosted-targets-proxy">Migrating an existing Node.js proxy to a Hosted Targets proxy</a>.</p>
</aside>

<p>The traditional Node.js support on Apigee Edge provides an embedded Node.js runtime environment that
  is scoped to an Apigee organization and environment. Node.js applications deployed to this
  environment can serve as the target for any API proxies that are deployed to that same
  organization/environment.</p>

<p><img src="/api-platform/images/nodejs-edge-overview.png" width="736"></p>


<p>The traditional Edge Node.js support relies internally on an open-source bridge application called
  (<a href="https://github.com/apigee/trireme">Trireme</a>) and a JavaScript interpreter called
  (<a href="https://en.wikipedia.org/wiki/Rhino_(JavaScript_engine)">Rhino</a>)
 that allow Node.js code to execute in the Edge Java runtime environment.</p>

<p>There are several limitations associated with this approach. For example:</p>

<ul>
  <li>Only an older version of Node.js (0.10.32) is supported.</li>
  <li>There are subtle differences in behavior between the standard Node.js environment and the
    Trireme/Rhino environment.</li>
  <li>Debugging Node.js apps after they are deployed to Edge is difficult.</li>
</ul>

<p>Node.js apps deployed&nbsp;to Hosted Targets&nbsp;do not depend on any Apigee-specific
 Node.js run-time technology. Your Node.js app will run in Hosted Targets exactly as it runs
 in your local development environment.</p>

    <h2 id="showmethecode">Samples</h2>

    <aside class="note"><b>Sample:</b>You can download Node.js from the <a href=
    "https://github.com/apigee/node-samples">samples repository</a> on GitHub.
    proxy sample code. See also <a href=
    "/api-platform/samples/using-samples.html">Using the sample API proxies</a>.</aside>

    <p>The Node.js repository contains a number of basic examples from deploying a simple Hello
    World! server to an employee database API that leverages a cloud-based datastore.</p>

    <p>We also recommend that you explore the Node.js samples in the API proxy cookbook. The
    cookbook samples focus on common problem-solving patterns related to API development, like
    writing backend Node.js logic to interact with API BaaS. See, for example, <a href=
    "/api-platform/samples/cookbook/building-baas-service-nodejs.html">Using Node.js to communicate
    with a backend data store</a>.</p>

  <h2 id="performancetips">Performance tips</h2>

  <p>See <a href=
  "https://community.apigee.com/articles/6490/nodejs-performance-tips-socket-pooling.html">Node.js
  Performance Tips: Socket Pooling</a> in the Apigee Community.</p>

  <h2 id="nextsteps">Next Steps</h2>

  <p>Now that you know a little about Node.js support in Apigee Edge, it's time to see Node.js on
  Edge in action. In the next topic, <a href=
  "/api-platform/nodejs/getting-started-nodejs-apigee-edge.html">Getting started with Node.js on
  Apigee Edge</a>, we'll show you how to proxy a very simple "Hello World" Node.js app on Apigee
  Edge using the management UI. Later, we'll show you how to deploy Node.js apps directly from your
  development machine to Edge using the command-line interface. </p>

<h2 id="limitations">Limitations</h2>

   <p>Traditional Edge <a href="https://docs.apigee.com/api-platform/nodejs/overview-nodejs-apigee-edge">Node.js support</a>
     relies internally on an open-source bridge application (<a href="https://github.com/apigee/trireme">Trireme</a>)
     and a JavaScript interpreter (<a href="https://en.wikipedia.org/wiki/Rhino_(JavaScript_engine)">Rhino</a>)
     that allow Node.js code to execute in the Edge Java runtime environment.</p>

   <p>There are several limitations associated with this approach. For example:</p>

   <ul>
      <li>Only an older version of Node.js (0.10.32) is supported.</li>
      <li>There are subtle differences in behavior between the standard Node.js environment and the
        Trireme/Rhino environment.</li>
      <li>Debugging Node.js apps after they are deployed to Edge is difficult.</li>
   </ul>


{% endblock %}

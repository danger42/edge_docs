{% extends "_base.html" %}
{% block title %}Adding and configuring an extension{% endblock %}
{% block body %}

{{ extensions_availability }}

Apigee Edge includes several installed [extension packages](/api-platform/extensions/extensions-overview).
Before you can use an extension in an API proxy
with an [Extension Callout policy](/api-platform/reference/policies/extension-callout-policy), you'll need to add and configure the extension. When you add an extension, you locate the extension package that represents the external resource you want to integrate with your API proxy, add and configure an extension from that package,
and deploy the extension to an Edge environment.

Note that you must be an organization administrator to configure an extension.

When you configure an extension from an extension package, you specify values that focus the extension's interaction with its external resource. For example, when you configure a [Google Cloud Firestore Extension](/api-platform/reference/extensions/google-cloud-firestore-extension), you specify which database the extension should use when creating, getting, and deleting documents.  Each extension has its own set of configuration properties that correspond to aspects of the resource it interacts with. For a list of included extensions, see [Extensions reference overview](/api-platform/reference/extensions/reference-overview-extensions).

Typically, each extension's configuration includes the credentials the extension should use to authenticate with the resource on your behalf.

The extensions deployment environment is elastic to support autoscaling based on load. As a result, by default, an extension deployment that has no traffic may not have an available instance to respond to requests. So the first request to an extension may take longer while the environment creates an instance of the extension for use.

For a tutorial to get started, see [Tutorial: Adding and using an extension](/api-platform/tutorials/add-extension/intro).

## Adding and configuring an extension

Note: See you [plan](https://apigee.com/api-management/#/pricing) for any
usage quotas that apply.

1.  In the [New Edge experience](https://apigee.com/edge), click the **Admin** menu, then click **Extensions**.

    <img src="/api-platform/images/extensions-admin-extensions-menu.png" width="25%" alt="" />

    The **Extensions** page that appears lists all of the extensions that have been configured from extension packages available on the system. If you wanted to view an existing configured extension, you could filter the list by typing filtering terms at the top of the page.
    
    In the next steps, you'll add your own extension.

1. In the **Extension** page, click **Add Extension**.

    <img src="/api-platform/images/extensions-add-extension-button.png" width="20%" alt="" />
    
1. Under **Select an extension**, locate the extension corresponding to the external resource you're accessing.
    In the box for the extension package, you can click View Details to view information about the extension's version, author, and so on.

1. Click the box for the extension package to begin configuring an extension from the package.
1. In the **Extension Properties** dialog box, enter a name and description for the extension, then click **Create**.
1. In the **Extension** > _My-Extension-Name_ page for the extension you're creating, locate an Apigee Edge environment for which you want to configure the extension.

    An extension must be deployed to the same environment as the API proxy that will be using it.

1. Click the environment's row in the list.

    <img src="/api-platform/images/extensions-select-test-config.png" width="100%" alt="" />

1. In the **Configuration** dialog, select or enter values to configure this extension.

    Each extension has its own configuration properties. For descriptions of the properties, use the extension's reference. Extension references are listed in [Extensions reference overview](/api-platform/reference/extensions/reference-overview-extensions).

1. Click **Save**.

## Deploying an extension

1. In the **Extension** > _My-Extension-Name_ page for the extension, click **Deploy** to deploy the extension for use from an API proxy.

After you've deployed an extension:

* Add the extension to an API proxy using the
  [Extension Callout policy](/api-platform/reference/policies/extension-callout-policy).

* You can view log data generated by the extension. For more, see [Viewing extension logs](/api-platform/extensions/viewing-extension-logs).

{% endblock %}

  {% extends "_base.html" %} {% block title %}Add and manage user accounts{% endblock %} {% block body %}

  <p>Before users can start working with your Developer Services portal, they need to be added to
  the system. By default, any user can register on the developer portal by selecting the Register
  link in the portal menu. The user's account is then automatically authenticated and they are
  assigned to the authenticated user role.</p>

  <p>You can customize your developer portal such that only users with admin privilege can add user
  accounts. In that case, an administrator needs to add user accounts manually. An administrator
  might also need to add user accounts manually for internal developers or to add developers on
  behalf of a customer.</p>

  <p>After a user account is added, an administrator can assign a role to the user account, which
  associates the privileges for that role to the account. In addition, an administrator can manage
  an existing user account, including editing the user profile for the account, deleting the
  account, blocking or unblocking the account, or assigning a new role to the account. An
  administrator can also specify what happens to the user account and its associated content
   (for example, blog entries and forum posts) when the account is canceled.</p>

  <p>The developer portal can automatically send emails to users when events occur. For example,
  the portal can send an email when a user is added, an account is blocked, or an account is
  canceled. As part of managing users, you can control the content and format of these emails. See
  <a href="/api-platform/publish/drupal/configuring-email.html">Configuring email</a> for more.</p>

  <div class="video">
    <p>To learn how to manage registration workflows; customize registration emails; block IP
    addresses from registering; and create, manage, and block user accounts, watch this video.</p>

    <div style="text-align: left;">
      <iframe allowfullscreen="" frameborder="0" height="315" src=
      "https://www.youtube.com/embed/sRvQO-y7O8M" width="560"></iframe>
    </div>
  </div>

  <h2 id="controllingwhocanregisteraccounts"><a name="who_register" id=
  "who_register"></a>Controlling who can register accounts</h2>

  <p>By default, any user can create an account from the developer portal by clicking on the
  Register link.</p>

  <p><strong>To control who can register accounts:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>Configuration &gt; People &gt; Account settings</strong> in the Drupal
    administration menu. This opens the Account settings page.</li>

    <li>Click the appropriate registration option under <strong>"Who Can Register
    Accounts"</strong> in the Registration and cancelation section. The choices are:

      <ul>
        <li><strong>Administrators only:</strong> Only administrators can register user
        accounts.</li>

        <li><strong>Visitors</strong>: Anyone can register. This is the default.</li>

        <li><strong>Visitors, but administrator approval is required:</strong> Anyone can register,
        but an administrator needs to authorize the account.</li>
      </ul>
    </li>

    <li>Select or clear the checkbox for <strong>Require e-mail verification when a visitor creates
    an account</strong>. When unchecked, the developer is immediately logged in to the portal after
    registering. When checked, the user receives an email that they use to validate their email
    address before they can log in.</li>

    <li>Click <strong>Save configuration</strong>.</li>
  </ol>

  <h2 id="addingauseraccount"><a name="add_acct" id="add_acct"></a>Adding a user account</h2>

  <p>Depending on your portal configuration, administrators must add users manually, or users can
  add themselves by selecting the Register link on the developer portal.</p>

  <aside class="note"><b>Note:</b> You can add developers by using the Apigee Edge management UI,
  the same UI that you use to create API proxies and API products. However, that process is not
  recommended when using a portal. See <a href=
  "/api-platform/publish/drupal/communicating-between-developer-services-portal-and-edge.html">Communicating
  between the portal and Edge</a> and <a href=
  "/api-platform/publish/adding-developers-your-api-product.html">Managing app developers</a> for
  more.</aside>

  <h3 id="addingauseraccount-addingauseraccountmanually">Adding a user account manually</h3>

  <p>To add a user account manually:</p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>People &gt; Add User</strong> in the Drupal administration menu.</li>

    <li>Enter content for the user in the First Name, Last Name, Username, Email address, and
    Password fields, and indicate acceptance of the user agreement.</li>

    <li>Optionally set the <strong>Status and Roles</strong> for the user.</li>

    <li>Select <strong>Notify user of new account</strong> to generate an automated email sent to
    the user.</li>

    <li>Click <strong>Create Account</strong>. 
    <!--<p><img alt="Creating user account" src="/images/create_useraccount_0.png" style="width: 550px; height: 387px; border-width: 1px; border-style: solid; margin: 25px; "></p>--></li>
  </ol>

  <h3 id="addingauseraccount-registeringauserfromthedeveloperportal">Registering a user from the
  developer portal</h3>

  <p>To register a user from the developer portal:</p>

  <ol>
    <li>The user selects <strong>Register</strong> on the developer portal home page.</li>

    <li>The registration page appears.</li>

    <li>The user enters the required information and selects <strong>Create new
    account</strong>.<br>
    Depending on the new account registration settings, when the new account is created, the user
    is sent an automated welcome email.</li>
  </ol>

  <h2 id="automatingadministratornotificationwhenanewuserregisters">Automating administrator
  notification when a new user registers</h2>

  <p>By default, when a new user registers on the portal, they receive an email. For more, see
  <a href="/api-platform/publish/drupal/configuring-email.html">Configuring email</a>.</p>

  <p>However, portal administrators are not notified by default when a new user registers. For
  example, if you configure the portal so that new users need administrative approval to activate
  their account, you want to ensure that administrators are notified when the new account is
  created. Otherwise, the user account remains inactive.</p>

  <p><strong>To notify administrators when a new user registers an account:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>Configuration &gt; People &gt; Admin Notification</strong> in the Drupal
    administration menu.</li>

    <li>Under <strong>User Alerts</strong>, specify who receives the email. You can direct it to:

      <ul>
        <li>Send to a custom email address</li>

        <li>Send to a specific role. If you choose this option, you might want to create a new
        role. Otherwise, if you choose a role such as Administrator, then all administrators
        receive the email and it might not be applicable to all administrators.</li>

        <li>Both</li>
      </ul>
    </li>

    <li>Edit the message subject and body.</li>

    <li>Select to send the email when:

      <ul>
        <li>Receive Email upon user creation.</li>

        <li>Receive Email upon user creation and update.</li>
      </ul>
    </li>

    <li>Click <strong>Save configuration</strong>.</li>
  </ol>

  <h2 id="managingauseraccount"><a name="manage_user" id="manage_user"></a>Managing a user
  account</h2>

  <p>Administrators can manage user accounts to set user information, reset passwords, activate
  accounts, cancel or suspend accounts, and to perform other tasks.</p>

  <p><strong>To edit the user profile for a user account:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>People</strong> in the Drupal administration menu.</li>

    <li>Use the filter area at the top of the page to filter the display of users based on a
    specific username, email address, status, or permission. By default, "any" is selected for
    these filters, in which case, all users are listed on the page.<br>

      <p><img alt="" src="/api-platform/images/FilterUserList_24.png"></p>
    </li>

    <li>Click <strong>Edit</strong> in the Username row for the user account. This opens an
    editable view of the user's profile.</li>

    <li>Change the user profile data as appropriate.</li>

    <li>Click <strong>Save</strong>.</li>
  </ol>

  <h2 id="addingcaptcha">Adding CAPTCHA</h2>

  <p>You can add a CAPTCHA challenge to the login page and other pages by enabling the Drupal
  <a href="https://www.drupal.org/project/captcha">CAPTCHA</a> and <a href=
  "https://www.drupal.org/project/recaptcha">reCAPTCHA</a> modules. The reCAPTCHA module
  adds support for the free Google reCAPTCHA service.</p>

  <p>Drupal supports other CAPTCHA modules, such as image CAPTCHA, that you can also use on
  the portal.</p>

  <div class="video">
    <p><strong>Video:</strong> Watch a short video about enabling CAPTCHA in the developer
    portal.</p>

    <div style="text-align: left; margin:15px">
      <iframe allowfullscreen="" frameborder="0" height="315" src=
      "https://www.youtube.com/embed/CSm9xSN6z2k" width="560"></iframe>
    </div>
  </div>

  <p><strong>To enable reCAPTCHA:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>Modules</strong> from the Drupal menu.</li>

    <li>Enable both the <strong>CAPTCHA</strong> and <strong>reCAPTCHA</strong> modules.</li>

    <li>Register for reCAPTCHA keys from Google at <a href=
    "https://www.google.com/recaptcha/intro/index.html">https://www.google.com/recaptcha/intro/index.html</a>.</li>

    <li>Select <strong>Configuration &gt; People &gt;
    CAPTCHA &gt; reCAPTCHA</strong> in the Drupal menu.</li>

    <li>Enter the <strong>Public Key</strong> (Google Site Key) and <strong>Private Key</strong>
    (Google Secret key). You can leave the rest of the settings with the default values.</li>

    <li>Select <strong>Configuration &gt; People &gt; CAPTCHA</strong> to set
    where you want the reCAPTCHA form to be presented. By default, it appears on the login and user
    registration forms.</li>

    <li>From that page, set the <strong>Challenge Type</strong> for each form.</li>

    <li>Save your changes.</li>
  </ol>

  <aside class="note">
    <b>Note:</b> If you are using the Apigee Responsive theme or a submodule of it, or any other
    theme that uses modals, reCaptcha may not display in the modal. To correct this issue for the
    Apigee Responsive theme or its submodules, turn off the registration modal by performing the
    following steps:

    <ol>
      <li>Log in to your portal as a user with admin or content creation privileges.</li>

      <li>Select <strong>Configuration &gt; User interface &gt; Bootstrap Modal forms</strong> from
      the Drupal menu.</li>

      <li>Under Register Form Settings, deselect <strong>Enable for the Registration
      Form</strong>.</li>

      <li>Click <strong>Save configuration</strong>.</li>
    </ol>
  </aside>

  <h2 id="addingatermsconditionspage">Adding a Terms &amp; Conditions page</h2>

  <p>You can add a Terms &amp; Conditions page to the developer portal that users must accept when
  they log in before they are allowed to access the portal. If you later change the Terms &amp;
  Conditions page, users will be required to accept the updated terms and conditions the next time
  that they log in.</p>

  <p>The implementation of the Terms &amp; Conditions page uses the Drupal <a href=
  "https://drupal.org/project/legal">Legal module</a>. That module provides a flexible way to
  create a Terms &amp; Conditions page, tracks revision history of the terms and conditions, and
  tracks users who have accepted the terms and conditions. </p>

  <p>Once created, the Terms &amp; Conditions page has the URL
  <code>&lt;siteURL&gt;/legal</code>.</p>

  <p><strong>To enable the Legal module:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>Modules</strong> in the Drupal administration menu. The list of all
    installed Drupal modules appears.</li>

    <li>Scroll down the page and select the checkbox next to the <strong>Legal
    module</strong>.</li>

    <li>Click <strong>Save configuration</strong>.</li>
  </ol>

  <p><strong>To</strong> <strong>create a Terms &amp; Conditions page:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>Configuration &gt; People &gt; Legal</strong> in the Drupal administration
    menu.<br>
    This menu item appears only when the Legal module is enabled. The top box on the page, under
    Most Recent Version/Revision, displays the current terms and conditions. If have not defined
    terms and conditions, this area is balnk. You create a new version in the Terms &amp;
    Conditions area under Create New Version/Translation.</li>

    <li>Enter your terms of service in the Terms &amp; Conditions area.</li>

    <li>Choose how you want to display the terms and conditions on the page: Scroll Box, Scroll Box
    (CSS), HTML Text, or Page Link.</li>

    <li>Optionally add additional checkboxes and a text area describing your latest changes.</li>

    <li>Select <strong>Preview</strong> to preview your terms and conditions in the Terms and
    Conditions of Use area under Most Recent Version/Revision, or <strong>Save</strong> to save
    them.</li>
  </ol>

  <p><strong>To monitor Terms &amp; Conditions changes and acceptance:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>Configuration &gt; People &gt; Legal</strong> in the Drupal administration
    menu.</li>

    <li>Select the <strong>T&amp;C History</strong> tab to see the revision history of the terms
    and conditions.</li>

    <li>Select the <strong>Accepted</strong> tab to see the list of users who have accepted each
    version of the terms and conditions.</li>
  </ol>

  <h2 id="redirectingauseronlogin">Redirecting a user on log in</h2>

  <p>By default, when a user logs in to the portal, they are directed to a page that displays their
  information, such as first and last name. Alternatively, you can use the <a href=
  "https://drupal.org/project/rules">Drupal Rules</a> module to add a rule to automatically
  redirect the user to a different page. For example, you can redirect the user to the page that
  lists all of their apps or to the portal home page.</p>

  <p>Before you can create a redirection rule, you muse ensure that all the necessary Drupal
  modules are enabled.<br>
  <br>
  <strong>Enable the necessary Drupal modules:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>Modules</strong> in the Drupal administration menu.</li>

    <li>Enable the following modules if they are not already enabled:

      <ul>
        <li>'me' Aliases (appears at the top of the modules list, not in its alphabetical location
        as do all other modules)</li>

        <li>LoginToboggan</li>

        <li>Rules</li>

        <li>Rules UI</li>
      </ul>
    </li>

    <li>Click <strong>Save configuration</strong>.<br>
    You might see other required modules being enabled automatically.</li>
  </ol>

  <p><strong>Create a log in redirection rule:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>Configuration &gt; Workflow &gt; Rules</strong> in the Drupal
    administration menu.</li>

    <li>Select <strong>+ Add new rule</strong> on the Rules page.</li>

    <li>Specify the name of the rule: Login redirect.</li>

    <li>Optionally specify a tag as login.</li>

    <li>In the React on event dropdown box, select <strong>User &gt; User has logged
    in</strong>.<br>
    <img alt="" src="/api-platform/images/loginRule_v24.png"></li>

    <li>Select <strong>Save</strong><br>
    The Editing reaction rule page appears. You already set the event in the previous step, so it
    should say "User has logged" in under Event. Leave Conditions blank for this rule.</li>

    <li>Under Actions, select <strong>+ Add action</strong>.</li>

    <li>Select <strong>System &gt; Page Redirect</strong> in the dropdown.<br>
    The Add a new action page changes its layout to let you specify the redirect URL.</li>

    <li>Under Value, specify <span style=
    "font-family:courier new,courier,monospace;">user/[account:uid]/apps</span>.<br>
    [account:uid] is a replacement pattern that corresponds to the user's portal ID. To see the
    full list of replacement patterns, select Replacement patterns under the Value input box.</li>

    <li>Click <strong>Save</strong> to return to the Editing reaction rule page. That page should
    appear as shown below:<br>
    <img alt="" src="/api-platform/images/editLoginRule_v24.png"></li>

    <li>Click <strong>Save</strong> changes.<br>
    To later edit the rule, select Rules from the Configuration page, and then select Login
    redirect from the list of rules.</li>
  </ol>

  <p>Now when a user logs in, they will be redirected to the page that lists all of their apps. If
  instead you wanted to redirect them to the home page of the portal, edit the Value you set above
  in step 11 to specify the URL of your portal's home page. For example,
  http://dev-myCompany.devportal.apigee.io/.</p>

  <h2 id="settinguserrolesandpermissions"><a name="roles_permissions" id=
  "roles_permissions"></a>Setting user roles and permissions</h2>

  <p>A role defines a specific set of permissions that allow a user to perform certain activities.
  You grant privileges to a user or group of users by assigning the user to a role that has the
  necessary permissions. Administrators manage roles, including setting permissions for roles, on
  the developer portal.</p>

  <p>By default, Drupal creates two roles:</p>

  <ul>
    <li><strong>anonymous user</strong> - The role for any user who has not logged in. Anonymous
    users are prevented from performing most actions.</li>

    <li><strong>authenticated user</strong> - The default role assigned to all users. You can
    assign a user to additional roles, but they are always assigned to this role.</li>
  </ul>

  <p>In addition, Apigee has added the role of <strong>administrator</strong>. Assign users to the
  administrator role to give them administration rights to the portal.</p>

  <p>Typically, you add roles to your portal so that you can differentiate permissions based on
  different user types. A user can be in a single role or in multiple roles. All users are assigned
  to the authenticated user role, but if you want to assign a user to additional roles you must add
  logic to your portal or perform the role assignment manually.</p>

  <p><strong>To see all roles and permissions:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>People &gt; Permissions &gt; Roles</strong> in the Drupal administration
    menu.</li>
  </ol>

  <p><strong>To add a new role:</strong></p>

  <ol>
    <li>Select <strong>People &gt; Permissions &gt; Roles</strong>.</li>

    <li>Enter a new role name in the text box above the Add role button on the People page.</li>

    <li>Click <strong>Add</strong> role.</li>
  </ol>

  <p><strong>To edit a role:</strong></p>

  <ol>
    <li>Select <strong>People &gt; Permissions &gt; Roles</strong>.</li>

    <li>Click <strong>edit role</strong> in the row of the pertinent role on the People page.</li>

    <li>Change the role name, as appropriate.</li>

    <li>Click <strong>Save</strong>.</li>
  </ol>

  <p><strong>To delete a role:</strong></p>

  <ol>
    <li>Select <strong>People &gt; Permissions &gt; Roles</strong>.</li>

    <li>Click <strong>edit role</strong> in the row of the pertinent role on the People page.</li>

    <li>Click <strong>Delete</strong> role.</li>
  </ol>

  <p><strong>To add a user to a role:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>People</strong> in the Drupal administration menu.</li>

    <li>Click <strong>Edit</strong> in the Username row for the user account. This opens an
    editable view of the user's profile.</li>

    <li>Select all roles for the user as appropriate.</li>

    <li>Click <strong>Save</strong>.</li>
  </ol>

  <p><strong>To change the permissions for a role:</strong></p>

  <ol>
    <li>Select <strong>People &gt; Permissions &gt; Roles</strong>.</li>

    <li>Click the <strong>Permission</strong> tab on the People page.<br>
      A table of roles and permissions is displayed. Checkmarks in the table indicate which
      permissions are assigned to which roles.<br>

      <p><img src="/api-baas/images/Permissions.png" width="550"></p>
    </li>

    <li>Check or uncheck a checkbox to grant or revoke the associated permission to that role,
    respectively.<br>
    For example, to prevent authenticate users from being able to create or delete apps, scroll
    down to the <strong>DevConnet Developer Apps</strong> section of the permissions table and
    uncheck the boxes for <strong>Create Developer Apps</strong> and <strong>Delete Developer
    Apps</strong> under <strong>authenticated users</strong>.</li>

    <li>Click <strong>Save</strong> permissions.</li>
  </ol>

  <h2 id="customizingtheformfieldsusedtoregisterauser"><a name="customFormField" id=
  "customFormField"></a>Customizing the form fields used to register a user</h2>

  <p>When the user registers for an account on the portal, the portal displays the default
  registration page with fields for First Name, Last Name, Username, Email address, and Password.
  As an API provider, you might want to modify this form to prompt the user to provide additional
  information such as a company name, mailing address, or other information. The portal provides
  you with a the ability to add new fields to this form. These fields can be:</p>

  <ul>
    <li>Required or optional</li>

    <li>Displayed by different HTML elements, such as text boxes, radio buttons, check boxes, and
    more</li>

    <li>Can be set to appear anywhere on the form</li>
  </ul>

  <div class="video">
    <p>To learn how to customize the user registration form available from the developer portal,
    watch this video.</p>

    <div style="text-align: left;">
      <iframe allowfullscreen="" frameborder="0" height="315" src=
      "https://www.youtube.com/embed/wHShSuG0fHE" width="560"></iframe>
    </div>
  </div>

  <p>For example, you might add a required field for Company Name, or an optional field for Phone
  Number. Or, you might add several fields, both optional and required.</p>

  <p>The following image shows a required field for Company Name added to the form:</p>

  <p><img alt="" src="/api-platform/images/addFieldtoRegister_v24_2.png" width="478"></p>

  <p>As a portal administrator, you can view and edit the user's information, including any custom
  fields, by:</p>

  <ol>
    <li>Selecting <strong>People</strong> in the Drupal administration menu on the portal.</li>

    <li>Selecting <strong>Edit</strong> in the row corresponding to the user's name.</li>
  </ol>

  <p>This is the primary way that you, as an administrator, access user information.</p>

  <p>By default, when you add new fields to the form, the field values are not uploaded to Edge.
  However, you can configure the portal to upload those values when the user submits the form. That
  means you can view those fields on Edge, or use the Edge management API to access those fields
  from a script.</p>

  <aside class="note"><b>Note:</b> Because of the way changes to custom fields on Edge are
  synchronized with the portal, Apigee recommends that you only view custom fields on Edge, but do
  not modify them. If, as an administrator, you must update user information, select People in the
  Drupal administration menu and edit the information that way.</aside>

  <p>For example, view the new form fields In the Edge management UI by going to <strong>Publish
  &gt; Developers,</strong> and then selecting the user name. The new field values appear under the
  Custom Attributes area of the page with a name that corresponds to the field's internal name:</p>

  <p><img alt="" src="/api-platform/images/showCustomDevAttrib_v24_2.png" width="759"></p>

  <p><strong>To add a field to the user registration form:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>Configuration &gt; People &gt; Account Settings</strong> in the Drupal
    administration menu.</li>

    <li>Select the <strong>Manage</strong> <strong>fields</strong> button at the top of the
    page.</li>

    <li>Scroll down the page to the Add new field area:<br>
    <img alt="" src="/api-platform/images/addNewRegisterField_v24.png"></li>

    <li>Configure the field. For example, for the Company Name field shown above, use the following
    settings:<br>
    <img alt="" src="/api-platform/images/addCompanyNameField_v24.png"></li>

    <li>Select <strong>Save</strong>.</li>

    <li>Because this is a text field, you are prompted to specify the maximum length of the
    field.</li>

    <li>Enter the maximum length, and the select <strong>Save field settings</strong>.</li>

    <li>A new page appears that lets you specify additional information for the field, including:

      <ul>
        <li>A check box to set this as a required field.</li>

        <li>A check box to specify to display the field.</li>

        <li>Optional help text that appears a popup in the form.</li>

        <li>Other settings.</li>
      </ul>
    </li>

    <li>Make sure to select the check box to make this a required field.</li>

    <li>If you make any changes on this page, save your settings.<br>
    You might have to clear your browser cache before the new field appears on the form.</li>
  </ol>

  <p><strong>To reorder the attributes on the form:</strong></p>

  <p>By default, new required fields appear in the form after the Last Name field. Optional fields
  appear at the bottom of the form, after the password fields.</p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>Configuration &gt; People &gt; Account Settings</strong> in the
    Drupal administration menu.</li>

    <li>Select the <strong>Manage fields</strong> button at the top of the page.</li>

    <li>Select the plus, <strong>+</strong>, symbol under the Label column and drag the field
    to the location where you want to display it in the form.</li>

    <li>Save your changes.</li>
  </ol>

  <h2 id="savingformfieldvaluesascustomdeveloperattributesinedge"><a name="customDevAttribute" id=
  "customDevAttribute"></a>Saving form field values as custom developer attributes in Edge</h2>

  <p>You can save form field values to custom developer attributes in Edge. You can view and manage
  custom attributes for a developer as described in <a href=
  "/api-platform/publish/adding-developers-your-api-product.html">Managing app developers</a>.</p>

  <p>After the custom developer attributes are saved, you can use the <a href=
  "/api-platform/reference/policies/access-entity-policy.html">Access Entity policy</a>, for
  example, to enable dynamic behavior based on the custom attribute values.</p>

  <div class="video">
    <p>To learn how to save form field values as custom developer attributes, watch this video.</p>

    <div style="text-align: left;">
      <iframe allowfullscreen="" frameborder="0" height="315" src=
      "https://www.youtube.com/embed/yq5BDCe9cXA" width="560"></iframe>
    </div>
  </div>

  <p><strong>To save the field values as custom developer attributes in Edge:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>Configuration &gt; Dev Portal &gt; Developer Attributes</strong> in the
    Drupal administration menu.<br>
    A list of the available fields is displayed.</li>

    <li>Select the field that you want to persist as an attribute in Edge, such as Company
    Name.</li>

    <li>Set the checkbox for <strong>Persist this field as an attribute in Edge</strong>.</li>

    <li>Specify the <strong>Edge attribute name</strong>. This is the name that appears in the Name
    column of the Custom Attributes table for the user.</li>

    <li>Specify the behavior for an empty field/</li>

    <li>Select the <strong>Convert value to true|false</strong> string if you want to cast the
    value as a boolean and convert it to a true or false string before sending to Edge.</li>

    <li>Click <strong>Save configuration</strong>.<br>
    Now the custom attribute will be uploaded to Edge when the user submits the form. If, as an
    administrator, you want to change the value of a custom field, do it from the portal, not from
    Edge.</li>
  </ol>

  <h2 id="creatingadefaultappwhenauserregistersanewaccount">Creating a default app when a user
  registers a new account</h2>

  <p>You can automatically create a default app when a user registers a new portal account. When
  the user logs in for the first time, the app appears on their My Apps page. Depending on the
  permissions assigned to the user's role, you may let the user add additional apps, or this can be
  the only app available to the user.</p>

  <p>You have complete control over the properties of the default app, including:</p>

  <ul>
    <li>The API products included by the app</li>

    <li>The app state: pending or approved</li>

    <li>The callback URL, if necessary</li>

    <li>Custom parameters applied to the app</li>
  </ul>

  <p>The way you control the creation of a default app is to create a rule by using the <a href=
  "https://drupal.org/project/rules">Drupal Rules module</a>. A rule lets you define an action that
  occurs in response to an event on the portal. In this scenario, the event is a user registering
  for an account on the portal. The action is to create a default app for the user.</p>

  <p>The section <a href="#customFormField">Customizing the form fields used to register an app</a>
  describes how to add custom attributes that are used to configure an app. These attributes can be
  optional or required, depending on how you define them. If you have created any custom app
  attributes, then you have the ability to set them when defining a default
  app.   </p>

  <p><strong>Enable the Drupal rules modules:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>Modules</strong> in the Drupal administration menu</li>

    <li>Enable the following modules if they are not already enabled:

      <ul>
        <li>'me' Aliases (appears at the top of the modules list, not in its alphabetical location
        as do all other modules)</li>

        <li>LoginToboggan</li>

        <li>Rules</li>

        <li>Rules UI</li>
      </ul>
    </li>

    <li>Click <strong>Save configuration</strong>.<br>
    You might see other required modules being enabled automatically.</li>
  </ol>

  <p><strong>Create a rule to add a default app:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>Configuration &gt; Workflow &gt; Rules</strong> in the Drupal administration
    menu.</li>

    <li>Select the <strong>+Add new rule</strong> button.</li>

    <li>Specify the <strong>Name</strong> of the rule.</li>

    <li>Optionally specify login in the <strong>Tags</strong> field, or any other tag that you want
    to use to categorize the rule.</li>

    <li>In the <strong>React on event dropdown box</strong>, select <strong>User &gt; After saving
    a new user account</strong>.</li>

    <li>Select <strong>Save</strong>.<br>
    The rule editing page appears. You already set the event in the previous step, so it should say
    "After saving a new user account" under Event.</li>

    <li>Leave <strong>Conditions</strong> blank for this rule.</li>

    <li>Under <strong>Actions</strong>, select <strong>+ Add action</strong>.</li>

    <li>Select <strong>Devconnect &gt; Create a developer application</strong> in the dropdown.<br>
    The Add a new action page changes its layout to let you configure the app.</li>

    <li>Under <strong>API Name</strong>, specify the name of the default app. For example, use
    <span style="font-family:courier new,courier,monospace;">[account:field_last_name]
    Application</span>.<br>
    The <span style="font-family:courier new,courier,monospace;">[account:field_last_name]</span>
    value is a replacement pattern that corresponds to the user's last name. To see the full list
    of replacement patterns, select <strong>Replacement</strong> patterns under the
    <strong>Value</strong> input box.</li>

    <li>Set <strong>Developer UID</strong> to <span style=
    "font-family:courier new,courier,monospace;">[account:uid]</span>. This value is required to
    associate the user with the app.</li>

    <li>Set the app <strong>Status</strong> to <span style=
    "font-family:courier new,courier,monospace;">pending</span> or <span style=
    "font-family:courier new,courier,monospace;">approved</span>. Set it to <span style=
    "font-family:courier new,courier,monospace;">pending</span> if an administrator still as to
    approve the app before the user can use it to access your APIs.</li>

    <li>If required, set the <strong>Callback URL</strong> for the app. This field only appears if
    you configured apps to require a callback URL. For more information on configuring callback
    URLs, see <a href="/api-platform/publish/drupal/configuring-api-products.html">Configuring
    callback URL handling</a>.</li>

    <li>If you defined any custom app attributes, either optional or required, set them. For more
    information, see <a href="#customFormField">Customizing the form fields used to register an
    app</a>.</li>

    <li>Specify the <strong>API Products</strong> included in the app.<br>
    The <strong>Value</strong> text area must list each API product on a separate line, with no
    commas or other delimiters. The list of available API products is shown above the
    <strong>Value</strong> text area.</li>

    <li>Click <strong>Save</strong> to return to the Editing rule
    page.       </li>

    <li>Click <strong>Save</strong> changes.</li>

    <li>To later edit the rule, select <strong>Configuration &gt; Workflow &gt; Rules</strong> in
    the Drupal administration menu, and then select the rule from the list of rules.</li>
  </ol>

  <p>When a new user logs in to the portal for the first time and selects the My Apps link in the
  menu, they now see an app named <span style=
  "font-family:courier new,courier,monospace;"><em>lastName</em> Application</span>, where
  <em><span style="font-family:courier new,courier,monospace;">lastName</span></em> is the last
  name used when the user registered the account.</p>

  <h2 id="administratinguserapps">Administrating user apps</h2>

  <p>As a portal administrator, you can use the Developer Apps report to manage user apps directly
  from the portal. From that report, an administrator can view information about a user's app,
  modify the app, or delete the app. For example, a portal administrator can modify the app to add
  or remove API products, change the callback URL, or make other changes.</p>

  <aside class="note"><b>Note:</b> An administrator can also manage user apps by using the Edge
  management UI. See <a href="/api-platform/publish/creating-apps-surface-your-api.html">Register
  apps and manage API keys</a> for more.</aside>

  <p><strong>To administrate a user app:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>Reports &gt; Developer Apps</strong> in the Drupal administration menu. A
    sortable list of user apps appears.</li>

    <li>For any app in the list:

      <ul>
        <li>Select the <strong>Edit</strong> link to edit the app properties.</li>

        <li>Select the <strong>Delete</strong> link to delete the app.</li>
      </ul>
    </li>
  </ol>

  <h2 id="cancellingauseraccount">Cancelling a user account</h2>

  <p>A portal administrator can cancel a user account. The admin can cancel an individual account,
  or can cancel multiple accounts in bulk.</p>

  <aside class="note"><b>Note:</b> If the user has created any documentation, which includes
  comments and forum posts, Apigee recommends that you select the option to "<strong>Disable the
  account and keep its content</strong>" or "<strong>Delete the account, but make its content
  belong to the Anonymous user</strong>" when deleting the account. </aside>

  <p><strong>To cancel an individual user accounts:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>People</strong> in the Drupal administration menu.</li>

    <li>Under the <strong>Operations</strong> column of the table of users, select
    <strong>Cancel account</strong>.</li>

    <li>Click the appropriate cancelation option under "When cancelling a user account". The
    choices are:

      <ul>
        <li><strong>Disable the account and keep its content</strong>: (Default) The user account
        and its related content are retained. However, the user account is blocked from accessing
        API resources. This is the default. An administrator can subsequently unblock the user
        account.</li>

        <li><strong>Disable the account and unpublish its content:</strong> The user account is
        retained. However, content associated with the user account is removed. The user account is
        blocked from accessing API resources. An administrator can subsequently unblock the user
        account.</li>

        <li><strong>Delete the account, but make its content belong to the Anonymous user</strong>:
        The user account is deleted. Content associated with the user account is retained, but is
        associated with the "Anonymous" user account, that is, an account that has not
        authenticated. The user account cannot be reenabled. The user needs to reregister and the
        user's account needs to be authenticated before accessing API resources.</li>

        <li><strong>Delete the account and its content</strong>: The user account and its related
        content are deleted. The user account cannot be reenabled. The user needs to reregister and
        the user's account needs to be authenticated before accessing API resources.</li>
      </ul>
    </li>

    <li>If you want the user to receive an email asking them to confirm the cancellation, select
    "<strong>Require e-mail confirmation to cancel account</strong>".<br>
    If you select this option, the user's account must have the correct permissions to allow the
    cancellation. Select <strong>People &gt; Permissions</strong> and ensure that the
     "<strong>authenticated user</strong>" role has the "<strong>Cancel own user
    account</strong>" permission set.</li>

    <li>Click <strong>Cancel account</strong>.</li>
  </ol>

  <p><strong>To cancel multiple user accounts:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin privileges.</li>

    <li>Select <strong>People</strong> in the Drupal administration menu.</li>

    <li>Under <strong>Operations</strong>, select <strong>Cancel user account</strong> in the
    dropdown.</li>

    <li>Select the checkbox next to each user whose account you want to cancel.</li>

    <li>Select the <strong>Execute</strong> button.</li>

    <li>Click the appropriate cancelation option under "When cancelling a user account". The
    choices are:

      <ul>
        <li><strong>Disable the account and keep its content</strong>.</li>

        <li><strong>Disable the account and unpublish its content</strong>.</li>

        <li><strong>Delete the account, but make its content belong to the Anonymous
        user</strong>.</li>

        <li><strong>Delete the account and its content</strong>.</li>
      </ul>
    </li>

    <li>Click <strong>Next</strong>.</li>

    <li>Click C<strong>onfirm</strong>.</li>
  </ol>

  <h3 id="cancellingauseraccount-settingthedefaultactionwhenanaccountiscanceled"><a name=
  "cancel_acct" id="cancel_acct"></a>Setting the default action when an account is canceled</h3>

  <p>Administrators of the developer portal can set the default action of the portal when a user
  account is canceled.</p>

  <p><strong>To set the default action when an account is canceled:</strong></p>

  <ol>
    <li>Log in to your portal as a user with admin or content creation privileges.</li>

    <li>Select <strong>Configuration</strong> in the Drupal administration menu.</li>

    <li>Select <strong>Account settings</strong>.</li>

    <li>Click the appropriate cancelation option under "When cancelling a user account" in the
    Registration and cancelation section. The choices are:

      <ul>
        <li><strong>Disable the account and keep its content</strong>.</li>

        <li><strong>Disable the account and unpublish its content</strong>.</li>

        <li><strong>Delete the account, but make its content belong to the Anonymous
        user</strong>.</li>

        <li><strong>Delete the account and its content</strong>.</li>
      </ul>
    </li>

    <li>Click <strong>Save</strong> configuration.</li>
  </ol>{% endblock %}

{% extends "_base.html" %}
{% block title %}Deployment overview{% endblock %}
{% block body %}

  <p>This topic provides a quick overview of proxy deployment. You can deploy proxies using the
  mangement UI, command-line scripts, or with APIs. </p>

  <p><strong>Video:</strong> Watch a short video to learn about best practices for zero down-time
  during API proxy deployment.</p>

  <iframe class="devsite-embedded-youtube-video" data-video-id="Hgr6PtZpqIg"
    data-autohide="1" width="560" height="315" data-showinfo="0" frameborder="0" allowfullscreen="">
  </iframe>

  <h2 id="whentodeployaproxy">When to deploy a proxy</h2>

  <p>A proxy must be deployed before it can be invoked. Generally, it's up to you when you deploy.
  When you are working in a test environment, you may deploy iteratively many times. On the other
  hand, the decision to deploy a proxy from the test environment to a production environment
  usually depends on lifecycle rules established by your development team. </p>

  <p>Deploy or redeploy a proxy when you:</p>

  <ul>
    <li>Create a new proxy (deployment happens automatically)</li>
    <li>Modify an existing proxy </li>
    <li>Create a new revision of  a proxy</li>
    <li>Create a new version of a proxy</li>
    <li>Push a proxy from one environment to another, such as from a test environment to a
      production environment. </li>
    <li>Delete and recreate a <a href=
    "/api-platform/system-administration/configuring-ssl-edge-backend-service">keystore</a>.</li>
  </ul>

  <h2 id="wheretodeployaproxy">Where to deploy a proxy</h2>

  <p>You deploy a proxy to an <em>environment</em>. All organizations in Apigee Edge, by default,
  have two environments called <em>test</em> and <em>prod</em>. These environments are merely
  designed to provide you with one area to work on and test API changes, and another area where
  APIs are exposed to apps. The following figure shows a proxy that is deployed to the
  <code>test</code> environment, as indicated by the green dot. </p>

  <p><img class="screenshot" src="/api-platform/images/proxy_deployed.png"></p>

  <aside class="note"><h3>NOTE</h3>
  Depending on your role, you may not be able to deploy to all environments. Users can only deploy
  to the <code>test</code> environment. If you're an administrator you can deploy to any
  environment.</aside>

  <h2 id="howtodeployaproxy">How to deploy a proxy</h2>

  <p>How you deploy a proxy depends on where you are developing the proxy. If you are working in
  the UI, you can easily deploy a proxy with just a couple of mouse clicks. A new proxy is
  automatically deployed when you create it; you don't have to do anything special. The
  procedure for redeploying an existing proxy is almost as simple. Just select which deployment
  environment to deploy to, and the management UI takes care of the rest. For more information, see
  <a href="/api-platform/deploy/deploying-proxies-ui">Deploying proxies in the UI</a>.</p>

  <p>If you are developing proxies and related components offline (that is, working with proxy XML
  files and other code directly on your filesystem), Apigee Edge provides a convenient command-line
  deployment tool that you can use. You can also obtain a sample shell script that you can
  configure and run to upload and deploy your proxy files. For more information, see <a href=
  "/api-platform/deploy/deploying-proxies-command-line">Deploying proxies from the command
  line</a>.</p>

  <p>Finally, you can use the Edge management API to deploy proxies. The deployment APIs expose
  atomic functions that your development team can coordinate to automate and optimize your API
  development lifecycle. See <a href=
  "/api-platform/deploy/deploy-api-proxies-using-management-api">Deploy API proxies using the
  management API</a>.</p>

  <h2 id="whatisanapiproxyrevision">What is an API Proxy Revision?</h2>

  <p>Revisions let you manage API proxy updates as you create and deploy them to an
  environment. Revisions are sequentially numbered, enabling you to revert a change by
  deploying a previous revision of your API proxy. Only one revision of an API proxy can be
  deployed in an environment at a given time if revisions share the same API proxy base path.
  However, by changing the base path, you can deploy multiple versions of an API proxy in the same
  environment. For more information, see <a href=
  "/api-platform/deploy/deploying-proxies-ui">Deploying proxies in the UI</a>.</p>

  <p>Typically, an existing revision must be undeployed before a new one can be deployed. Other
  advanced options include overwriting a deployed revision or opting not to increment a revision at
  all. For example, sometimes when you make minor changes, you might not want to increment the
  revision. These advanced options can be accomplished through direct calls to the Edge
  management API. See <a href=
  "/api-platform/deploy/deploy-api-proxies-using-management-api">Deploy API proxies using the
  management API</a>.</p>

  <p>You can deploy a revision of an API proxy into the <code>prod</code> environment, while
  continuing to create new revisions of that API proxy in the <code>test</code> environment. When
  you are ready, you can "promote" the higher revision of your API proxy from the <code>test</code>
  environment over the prior revision of the API proxy in the <code>prod</code> environment.</p>

  <p>For more information on revisions, see <a href=
  "/api-platform/deploy/deploy-api-proxies-using-management-api">Deploy API proxies using the
  management API</a> and <a href="/api-platform/deploy/deploying-proxies-ui">Deploying proxies
  in the UI</a>.</p>

    <p><strong>Video:</strong> Watch a short video to learn more about API revisions.</p>

  <iframe class="devsite-embedded-youtube-video" data-video-id="V0RuFJdHN-o"
    data-autohide="1" width="560" height="315" data-showinfo="0" frameborder="0" allowfullscreen="">
  </iframe>


{% endblock %}
